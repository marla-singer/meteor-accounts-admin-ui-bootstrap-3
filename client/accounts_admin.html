<template name="accountsAdmin">
    <div class="row accounts-search">
        <div class="col-sm-offset-4 col-sm-8 col-md-offset-6 col-md-6 col-lg-offset-8 col-lg-4">
            <div class="input-group">
                <input type="text" class="form-control search-input-filter" value="{{searchFilter}}">
                <span class="input-group-btn">
                    <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
                    <button class="btn btn-default" type="button" data-toggle="modal" href="#updateroles">Manage Roles</button>
                </span>
            </div>
        </div>
    </div>
    <table class='table table-striped'>
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Roles</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {{#each users}}
                <tr class="{{#if myself _id}}info{{/if}}">
                    <td>
                        {{#if username}}
                            {{username}}
                        {{else}}
                            {{email}}
                        {{/if}}
                    </td>
                    <td>{{email}}</td>
                    <td>{{roles}}</td>
                    <td>
                      {{#unless myself _id}}
                        <span data-toggle="modal" href="#deleteaccount" class="glyphicon glyphicon-trash clickable"></span>
                        <span data-toggle="modal" href="#updateaccount" class="glyphicon glyphicon-pencil clickable"></span>
                        <span data-toggle="modal" href="#infoaccount" class="glyphicon glyphicon-info-sign clickable"></span>
                      {{/unless}}
                    </td>
                </tr>
            {{/each}}
        </tbody>
    </table>
  <div class="form-inline">
    <span class="items-on-page">
      Showing
      <strong>
        {{currentItems}}
      </strong>
      of
      <strong>
        {{totalItems}}
      </strong>
      users
    </span>
    {{> defaultBootstrapPaginator pagination=templatePagination limit=10 containerClass="pull-right"}}
  </div>
    {{> updateRolesModal}}
    {{> deleteAccountModal}}
    {{> infoAccountModal}}
    {{> updateAccountModal}}
</template>